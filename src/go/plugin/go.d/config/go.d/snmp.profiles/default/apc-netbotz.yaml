extends:
  - _apc.yaml

metadata:
  device:
    fields:
      type:
        value: Sensor
      vendor:
        value: APC

sysobjectid:
  - 1.3.6.1.4.1.5528.100.20.*

metrics:
  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.2.1
      name: enclosureTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.2.1.1.2
        name: enclosureStatus
        description: The error status of the enclosure
        family: Enclosures/Status
        unit: "{status}"
        mapping:
          0: disconnected
          1: error
          2: normal
      - OID: 1.3.6.1.4.1.5528.100.2.1.1.3
        name: enclosureErrorStatus
        description: The error status of the enclosure
        family: Enclosures/Status
        unit: "{status}"
        mapping:
          0: normal
          1: info
          2: warning
          3: error
          4: critical
          5: failure
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.2.1.1.7
          name: enclosureIndex
        tag: netbotz_enclosure_index
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.2.1.1.1
          name: enclosureId
        tag: netbotz_enclosure_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.2.1.1.4
          name: enclosureLabel
        tag: netbotz_enclosure_label

  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.3.1
      name: dinPortTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.3.1.1.2
        name: dinPortStatus
        description: The error status of the sensor
        family: Ports/Status
        unit: "{status}"
        mapping:
          0: disconnected
          1: error
          2: normal
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.3.1.1.9
          name: dinPortIndex
        tag: netbotz_din_port_index
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.3.1.1.1
          name: dinPortId
        tag: netbotz_din_port_id
  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.3.10
      name: otherPortTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.3.10.1.2
        name: otherPortStatus
        description: The error status of the sensor
        family: Ports/Other/Status
        unit: "{status}"
        mapping:
          0: disconnected
          1: error
          2: normal
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.3.10.1.5
          name: otherPortIndex
        tag: netbotz_other_port_index
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.3.10.1.1
          name: otherPortId
        tag: netbotz_other_port_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.3.10.1.3
          name: otherPortLabel
        tag: netbotz_other_port_label
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.3.10.1.4
          name: otherPortEncId
        tag: netbotz_other_port_enc_id
  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.4.1.1
      name: tempSensorTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.4.1.1.1.8
        name: netbotz.tempSensorValueInt
        description: The temperature measured by the sensor
        # in degree Celsius.
        family: Sensors/Temperature/Celsius
        unit: "Cel"
      - OID: 1.3.6.1.4.1.5528.100.4.1.1.1.9
        name: netbotz.tempSensorValueIntF
        description: The temperature measured by the sensor
        # in degree Fahrenheit.
        family: Sensors/Temperature/Fahrenheit
        unit: "degF"
      - OID: 1.3.6.1.4.1.5528.100.4.1.1.1.3
        name: tempSensorErrorStatus
        description: The error status of the sensor
        family: Sensors/Temperature/Status
        unit: "{status}"
        mapping:
          0: normal
          1: info
          2: warning
          3: error
          4: critical
          5: failure
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.1.1.10
          name: tempSensorIndex
        tag: netbotz_temp_sensor_index
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.1.1.1
          name: tempSensorId
        tag: netbotz_temp_sensor_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.1.1.4
          name: tempSensorLabel
        tag: netbotz_temp_sensor_label
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.1.1.5
          name: tempSensorEncId
        tag: netbotz_temp_sensor_enc_id
  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.4.1.2
      name: humiSensorTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.4.1.2.1.8
        name: netbotz.humiSensorValueInt
        description: The relative humidity measured by the sensor
        #  in percent
        family: Sensors/Humidity/Percent
        unit: "%"
      - OID: 1.3.6.1.4.1.5528.100.4.1.2.1.3
        name: humiSensorErrorStatus
        description: The error status of the sensor
        family: Sensors/Humidity/Status
        unit: "{status}"
        mapping:
          0: normal
          1: info
          2: warning
          3: error
          4: critical
          5: failure
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.2.1.9
          name: humiSensorIndex
        tag: netbotz_humi_sensor_index
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.2.1.1
          name: humiSensorId
        tag: netbotz_humi_sensor_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.2.1.4
          name: humiSensorLabel
        tag: netbotz_humi_sensor_label
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.2.1.5
          name: humiSensorEncId
        tag: netbotz_humi_sensor_enc_id
  - MIB: NETBOTZ410-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.4.1.3
      name: dewPointSensorTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.4.1.3.1.8
        name: netbotz.dewPointSensorValueInt
        description: The dew point measured by the sensor
        # in degrees Celsius.
        family: Sensors/Dew Point/Celsius
        unit: "Cel"
      - OID: 1.3.6.1.4.1.5528.100.4.1.3.1.9
        name: netbotz.dewPointSensorValueIntF
        description: The dew point measured by the sensor
        family: Sensors/Dew Point/Fahrenheit
        unit: "degF"
      - OID: 1.3.6.1.4.1.5528.100.4.1.3.1.3
        name: dewPointSensorErrorStatus
        description: The error status of the sensor
        family: Sensors/Dew Point/Status
        unit: "{status}"
        mapping:
          0: normal
          1: info
          2: warning
          3: error
          4: critical
          5: failure
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.3.1.10
          name: dewPointSensorIndex
        tag: netbotz_dew_point_sensor_index
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.3.1.1
          name: dewPointSensorId
        tag: netbotz_dew_point_sensor_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.3.1.4
          name: dewPointSensorLabel
        tag: netbotz_dew_point_sensor_label
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.1.3.1.5
          name: dewPointSensorEncId
        tag: netbotz_dew_point_sensor_enc_id
  # - MIB: NETBOTZV2-MIB
  #   table:
  #     OID: 1.3.6.1.4.1.5528.100.4.1.10
  #     name: otherNumericSensorTable
  #   symbols:
  #     - OID: 1.3.6.1.4.1.5528.100.4.1.10.1.8
  #       name: netbotz.otherNumericSensorValueInt
  #   metric_tags:
  #     - symbol:
  #         OID: 1.3.6.1.4.1.5528.100.4.1.10.1.12
  #         name: otherNumericSensorIndex
  #       tag: netbotz_other_numeric_sensor_index
  #       description: The index of the sensor
  #       unit: "{sensor}"
  #     - symbol:
  #         OID: 1.3.6.1.4.1.5528.100.4.1.10.1.1
  #         name: otherNumericSensorId
  #       tag: netbotz_other_numeric_sensor_id
  #       description: The unique id of the sensor
  #       unit: "{sensor}"
  #     - symbol:
  #         OID: 1.3.6.1.4.1.5528.100.4.1.10.1.4
  #         name: otherNumericSensorLabel
  #       tag: netbotz_other_numeric_sensor_label
  #       description: The unique label assigned to the sensor
  #       unit: "{sensor}"
  #     - symbol:
  #         OID: 1.3.6.1.4.1.5528.100.4.1.10.1.5
  #         name: otherNumericSensorEncId
  #       tag: netbotz_other_numeric_sensor_enc_id
  #       description: The id of the physical enclosure containing the sensor
  #       unit: "{enclosure}"
  #     - symbol:
  #         OID: 1.3.6.1.4.1.5528.100.4.1.10.1.9
  #         name: otherNumericSensorUnits
  #       tag: netbotz_other_numeric_sensor_units
  #       description: The unit of measure for the sensor value
  #       unit: "TBD"
  #     # TODO: Check out metric_tags with symbols having mappings and/or expressing states/statuses. Need to convert to metrics.
  #     - symbol:
  #         OID: 1.3.6.1.4.1.5528.100.4.1.10.1.3
  #         name: otherNumericSensorErrorStatus
  #       tag: netbotz_other_numeric_sensor_error_status
  #       mapping:
  #         0: normal
  #         1: info
  #         2: warning
  #         3: error
  #         4: critical
  #         5: failure
  #       description: The operational status of the sensor
  #       unit: "TBD"
  # TODO metric with units defined by the MIB not currently supported
  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.4.2.2
      name: doorSwitchSensorTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.4.2.2.1.2
        name: doorSwitchSensorValue
        description: Whether the door is open or closed
        family: Sensors/Door Switch/Status
        unit: "{status}"
        mapping:
          -1: "null"
          0: open
          1: closed
      - OID: 1.3.6.1.4.1.5528.100.4.2.2.1.3
        name: doorSwitchSensorErrorStatus
        description: The error status of the sensor
        family: Sensors/Door Switch/Status
        unit: "{status}"
        mapping:
          0: normal
          1: info
          2: warning
          3: error
          4: critical
          5: failure
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.2.1.8
          name: doorSwitchSensorIndex
        tag: netbotz_door_switch_sensor_index
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.2.1.1
          name: doorSwitchSensorId
        tag: netbotz_door_switch_sensor_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.2.1.4
          name: doorSwitchSensorLabel
        tag: netbotz_door_switch_sensor_label
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.2.1.5
          name: doorSwitchSensorEncId
        tag: netbotz_door_switch_sensor_enc_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.2.1.7
          name: doorSwitchSensorValueStr
        tag: netbotz_door_switch_sensor_value_str
  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.4.2.10
      name: otherStateSensorTable
    symbols:
      - OID: 1.3.6.1.4.1.5528.100.4.2.10.1.3
        name: otherStateSensorErrorStatus
        description: The error status of the sensor
        family: Sensors/Other/Status
        unit: "TBD"
        mapping:
          0: normal
          1: info
          2: warning
          3: error
          4: critical
          5: failure
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.10.1.4
          name: otherStateSensorLabel
        tag: netbotz_other_state_sensor_label
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.10.1.5
          name: otherStateSensorEncId
        tag: netbotz_other_state_sensor_enc_id
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.10.1.7
          name: otherStateSensorValueStr
        tag: netbotz_other_state_sensor_value_str
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.4.2.10.1.1
          name: otherStateSensorId
        tag: netbotz_other_state_sensor_id
  - MIB: NETBOTZV2-MIB
    table:
      OID: 1.3.6.1.4.1.5528.100.5.1
      name: errorCondTable
    symbols:
      - name: netbotz.errorCond
        constant_value_one: true
    # TODO: Check out metric_tags with symbols having mappings and/or expressing states/statuses. Need to convert to metrics.
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.5.1.1.12
          name: errorCondIndex
        tag: netbotz_error_cond_index
        description: The index of the error condition
        unit: "{error_condition}"
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.5.1.1.1
          name: errorCondId
        tag: netbotz_error_cond_id
        description: The unique id of the error condition
        unit: "{error_condition}"
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.5.1.1.3
          name: errorCondTypeId
        tag: netbotz_error_cond_type_id
        description: The error type id reported for the error condition
        unit: "{error_type}"
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.5.1.1.9
          name: errorCondEncId
        tag: netbotz_error_cond_enc_id
        description: The id of the physical enclosure associated with the error
        unit: "{enclosure}"
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.5.1.1.11
          name: errorCondSensorId
        tag: netbotz_error_cond_sensor_id
        description: The id of the sensor associated with the error
        unit: "{sensor}"
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.5.1.1.2
          name: errorCondSeverity
        tag: netbotz_error_cond_severity
        mapping:
          0: normal
          1: info
          2: warning
          3: error
          4: critical
          5: failure
        description: The relative severity of the error condition
        unit: "TBD"
      - symbol:
          OID: 1.3.6.1.4.1.5528.100.5.1.1.6
          name: errorCondResolved
        tag: netbotz_error_cond_resolved
        mapping:
          0: no
          1: yes
          2: "null"
        description: Whether the error condition was resolved
        unit: "TBD"
